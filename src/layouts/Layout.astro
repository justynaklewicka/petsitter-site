---
const { title } = Astro.props;
const props = Astro.props ?? {};
const fm = props.frontmatter ?? props ?? {};
const images = fm.images ?? [];
---

<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>
    <link rel="stylesheet" href="/style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script>
      // Hamburger menu logic – when site is loadeds
      document.addEventListener('DOMContentLoaded', function() {
        const burger = document.getElementById('hamburger-toggle');
        const navMenu = document.getElementById('main-nav-menu');
        burger.addEventListener('click', function() {
          burger.classList.toggle('open');
          navMenu.classList.toggle('open');
        });
      });
    </script>
  </head>
  <body>
    <nav class="main-nav">
      <!-- Hamburger (mobile) -->
      <button id="hamburger-toggle" class="hamburger" aria-label="Otwórz menu" aria-expanded="false">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <!-- Menu links -->
      <div id="main-nav-menu" class="nav-menu">
        <a href="/">Strona główna</a>
        <a href="/o-mnie">O mnie</a>
        <a href="/uslugi">Usługi i cennik</a>
        <a href="/galeria">Galeria</a>
        <a href="/regulamin">Regulamin</a>
        <a href="/kontakt">Kontakt</a>
      </div>
    </nav>

    <div class="header-image">
      <a href="/" aria-label="Przejdź do strony głównej"></a>
    </div>

    <br><br>

    <main class="container">
      <slot />
      {images && images.length ? (
        <div class="gallery">
          {images.map((img) => (
            <figure>
              <img src={img.src} alt={img.caption ?? "zdjęcie"} loading="lazy" />
              {img.caption ? <figcaption>{img.caption}</figcaption> : null}
            </figure>
          ))}
        </div>
      ) : null}
    </main>
    <br>

    <footer>
      <div class="container">
        <a href="https://www.facebook.com/przystanekdundee" class="fa fa-facebook"></a>&emsp;
        <a href="https://www.instagram.com/przystanek_dundee_petsitting" class="fa fa-instagram"></a>
        <br><br>
        Sivoriel Design
      </div>
    </footer>
    <br>
	
	<!-- scroll-to-top button -->
    <button id="scrollToTopBtn" aria-label="Do góry" title="Powrót na górę">
      <svg width="32" height="32" viewBox="0 0 24 24" fill="#216e4b" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="12" fill="white" />
        <path d="M12 8l-6 6h12z" fill="#216e4b"/>
      </svg>
    </button>
    <script>
      // show/move button
      document.addEventListener('DOMContentLoaded', function () {
        const btn = document.getElementById('scrollToTopBtn');
        window.addEventListener('scroll', function () {
          if (window.scrollY > 200) {
            btn.style.display = 'block';
          } else {
            btn.style.display = 'none';
          }
        });
        btn.addEventListener('click', function () {
          window.scrollTo({ top: 0, behavior: 'smooth' });
        });
      });
    </script>
	
  </body>
</html>